<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>API & Visualisations - embedding</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "API \u0026 Visualisations";
        var mkdocs_page_input_path = "experimentations/api_visualisations.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> embedding
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Recherches théoriques</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../..">Principes de l'embedding</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Les différents types d'embedding</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../frequency/">Frequency-Based Embeddings</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../prediction/">Prediction-Based Embeddings</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../contextualized/">Contextualized Word Embeddings</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../creation/">Création des embeddings</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Expérimentations</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../premieres_experiences/">Premières expériences</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">API & Visualisations</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#nouvelle-methode">Nouvelle méthode</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#comparaison-minilm-et-word2vec">Comparaison MiniLM et Word2Vec</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#strategie-dembedding">Stratégie d'embedding</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#problemes">Problèmes</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../llm/">LLM</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Application</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Maquettes</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../inspiration/">Inspiration</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ebauches/">Premières ébauches</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../maquettes/">Maquettes</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Recherches techniques</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../contexte_technos/">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../front-end_technos/">Front-end</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../integration-js_technos/">Intégration JS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../conclusion_technos/">Conclusion</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Resultats</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../schema/">schéma</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../deploiment/">déploiment</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/">installation</a>
                </li>
    </ul>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../conclusions_personelles.md">Conclusions</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">embedding</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Expérimentations</li>
      <li class="breadcrumb-item active">API & Visualisations</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="api-visualisations">API &amp; Visualisations</h1>
<h2 id="nouvelle-methode">Nouvelle méthode</h2>
<p>La nouvelle méthode fonctionne comme suit:</p>
<p><img alt="" src="../../images/pipeline-ia.png" /></p>
<p>On commence par récupérer les synonymes du mot depuis des API, puis on embède le mot (avec son contexte) ainsi que les synonymes. On classe ensuite les synonymes selon leur proximité avec l'embedding du mot et on ne garde que les meilleurs. On peut aussi faire la même chose avec des antonymes.</p>
<h2 id="comparaison-minilm-et-word2vec">Comparaison MiniLM et Word2Vec</h2>
<p>Pour déterminer quel était le meilleur modèle pour cette tâche, nous avons créé une visualisation afin de voir lequel rapprochait le mieux les différents synonymes. Dans cette visualisation, 4 groupes de 3 mots sont affichés, en anglais et en français (sauf pour Word2Vec, dont le corpus utilisé est exclusivement anglais).</p>
<p><strong>Word2Vec (mots anglais)</strong></p>
<p><img alt="" src="../../images/visualisation_word2vec_en.png" /></p>
<p><strong>MiniLM (mots anglais)</strong></p>
<p><img alt="" src="../../images/visualisation_minilm_en.png" /></p>
<p><strong>MiniLM (mots français)</strong></p>
<p><img alt="" src="../../images/visualisation_minilm_fr.png" /></p>
<p>On peut voir que, pour Word2Vec deux groupes (« gems » et « button ») sont bien regroupés, mais pas les deux autres. Pour MiniLM, les groupes sont bien regroupés en anglais, mais pas en français.<br />
Au vu de ces résultats, nous avons décidé d'abandonner complètement Word2Vec et d'utiliser MiniLM pour la suite.</p>
<h2 id="strategie-dembedding">Stratégie d'embedding</h2>
<p>À l'origine, nous utilisions la même stratégie pour embedder les mots avec MiniLM qu'avec Word2Vec: chaque mot du contexte (tous des synonymes les uns des autres lors des tests) était embeddé individuellement, puis la moyenne des vecteurs était utilisée comme résultat (méthode 1). Nous avons décidé de comparer cette méthode avec une autre, plus adaptée à un modèle qui prend en compte le contexte: concaténer tous les mots du contexte, séparés par des virgules, puis embedder le tout d'un coup (méthode 2).</p>
<p>Pour comparer les deux méthodes, nous avons lancé la recherche de synonymes sur 4 groupes de 3 mots:</p>
<ul>
<li>Groupe 1: <em>home</em>, <em>residence</em>, <em>house</em>  </li>
<li>Groupe 2: <em>button</em>, <em>zipper</em>, <em>latch</em>  </li>
<li>Groupe 3: <em>penalty</em>, <em>sanction</em>, <em>sentence</em>  </li>
<li>Groupe 4: <em>ruby</em>, <em>emerald</em>, <em>sapphire</em></li>
</ul>
<p>Pour chaque groupe, on récupère la liste des synonymes et on les affiches avec leur score et leur nombre d'occurrences (le même synonyme peut apparaître dans plusieurs API, et plusieurs fois dans la même API). Voici les résultats:</p>
<p><strong>Groupe 1</strong></p>
<table>
    <thead>
        <tr>
            <th colspan="3" style="text-align: center;">Méthode 1</th>
            <th colspan="3" style="text-align: center;">Méthode 2</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th>Synonyme</th>
            <th>Score</th>
            <th>Occurrences</th>
            <th>Synonyme</th>
            <th>Score</th>
            <th>Occurrences</th>
        </tr>
        <tr>
            <td>abidance</td>
            <td>0.7958</td>
            <td>1</td>
            <td>abidance</td>
            <td>0.9731</td>
            <td>1</td>
        </tr>
        <tr>
            <td>enclose</td>
            <td>0.7688</td>
            <td>2</td>
            <td>manse</td>
            <td>0.9287</td>
            <td>1</td>
        </tr>
        <tr>
            <td>rezidentura</td>
            <td>0.7639</td>
            <td>1</td>
            <td>enclose</td>
            <td>0.9095</td>
            <td>2</td>
        </tr>
        <tr>
            <td>menage</td>
            <td>0.7485</td>
            <td>2</td>
            <td>menage</td>
            <td>0.9082</td>
            <td>2</td>
        </tr>
        <tr>
            <td>manse</td>
            <td>0.7222</td>
            <td>1</td>
            <td>rezidentura</td>
            <td>0.8941</td>
            <td>1</td>
        </tr>
        <tr>
            <td>sign</td>
            <td>0.6891</td>
            <td>1</td>
            <td>sign</td>
            <td>0.8894</td>
            <td>1</td>
        </tr>
        <tr>
            <td>base</td>
            <td>0.6771</td>
            <td>1</td>
            <td>firm</td>
            <td>0.8893</td>
            <td>1</td>
        </tr>
        <tr>
            <td>accommodate</td>
            <td>0.6673</td>
            <td>2</td>
            <td>theater</td>
            <td>0.8865</td>
            <td>1</td>
        </tr>
        <tr>
            <td>firm</td>
            <td>0.6666</td>
            <td>1</td>
            <td>accommodate</td>
            <td>0.8775</td>
            <td>2</td>
        </tr>
        <tr>
            <td>tenement</td>
            <td>0.6593</td>
            <td>2</td>
            <td>harbor</td>
            <td>0.8652</td>
            <td>2</td>
        </tr>
        <tr>
            <td>harbor</td>
            <td>0.6489</td>
            <td>2</td>
            <td>base</td>
            <td>0.8589</td>
            <td>1</td>
        </tr>
        <tr>
            <td>theater</td>
            <td>0.6380</td>
            <td>1</td>
            <td>harbour</td>
            <td>0.8277</td>
            <td>2</td>
        </tr>
        <tr>
            <td>harbour</td>
            <td>0.6236</td>
            <td>2</td>
            <td>tenement</td>
            <td>0.8241</td>
            <td>2</td>
        </tr>
        <tr>
            <td>domicile</td>
            <td>0.6151</td>
            <td>3</td>
            <td>shop</td>
            <td>0.8083</td>
            <td>4</td>
        </tr>
        <tr>
            <td>shop</td>
            <td>0.5999</td>
            <td>4</td>
            <td>put up</td>
            <td>0.7819</td>
            <td>2</td>
        </tr>
        <tr>
            <td>put up</td>
            <td>0.5895</td>
            <td>2</td>
            <td>store</td>
            <td>0.7787</td>
            <td>2</td>
        </tr>
        <tr>
            <td>store</td>
            <td>0.5737</td>
            <td>2</td>
            <td>host</td>
            <td>0.7711</td>
            <td>2</td>
        </tr>
        <tr>
            <td>host</td>
            <td>0.5590</td>
            <td>2</td>
            <td>domicile</td>
            <td>0.7245</td>
            <td>3</td>
        </tr>
        <tr>
            <td>abode</td>
            <td>0.5245</td>
            <td>4</td>
            <td>abode</td>
            <td>0.6901</td>
            <td>4</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>homeward</td>
            <td>0.6206</td>
            <td>2</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>residency</td>
            <td>0.5429</td>
            <td>2</td>
        </tr>
    </tbody>
</table>

<p><strong>Groupe 2</strong></p>
<table>
    <thead>
        <tr>
            <th colspan="3" style="text-align: center;">Méthode 1</th>
            <th colspan="3" style="text-align: center;">Méthode 2</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th>Synonyme</th>
            <th>Score</th>
            <th>Occurrences</th>
            <th>Synonyme</th>
            <th>Score</th>
            <th>Occurrences</th>
        </tr>
        <tr>
            <td>endpin</td>
            <td>0.7081</td>
            <td>1</td>
            <td>push</td>
            <td>0.9102</td>
            <td>1</td>
        </tr>
        <tr>
            <td>adjuster</td>
            <td>0.6553</td>
            <td>1</td>
            <td>endpin</td>
            <td>0.9008</td>
            <td>1</td>
        </tr>
        <tr>
            <td>push</td>
            <td>0.6520</td>
            <td>1</td>
            <td>blow</td>
            <td>0.8806</td>
            <td>1</td>
        </tr>
        <tr>
            <td>slide fastener</td>
            <td>0.6389</td>
            <td>3</td>
            <td>adjuster</td>
            <td>0.8092</td>
            <td>1</td>
        </tr>
        <tr>
            <td>blow</td>
            <td>0.6132</td>
            <td>1</td>
            <td>clit</td>
            <td>0.7725</td>
            <td>1</td>
        </tr>
        <tr>
            <td>clit</td>
            <td>0.5455</td>
            <td>1</td>
            <td>slide fastener</td>
            <td>0.7202</td>
            <td>3</td>
        </tr>
        <tr>
            <td>zip fastener</td>
            <td>0.5384</td>
            <td>2</td>
            <td>zip</td>
            <td>0.6318</td>
            <td>2</td>
        </tr>
        <tr>
            <td>endbutton</td>
            <td>0.5212</td>
            <td>1</td>
            <td>zip up</td>
            <td>0.6314</td>
            <td>1</td>
        </tr>
        <tr>
            <td>zip up</td>
            <td>0.5019</td>
            <td>1</td>
            <td>endbutton</td>
            <td>0.5855</td>
            <td>1</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>zip fastener</td>
            <td>0.5750</td>
            <td>2</td>
        </tr>
    </tbody>
</table>

<p><strong>Groupe 3</strong></p>
<table>
    <thead>
        <tr>
            <th colspan="3" style="text-align: center;">Méthode 1</th>
            <th colspan="3" style="text-align: center;">Méthode 2</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th>Synonyme</th>
            <th>Score</th>
            <th>Occurrences</th>
            <th>Synonyme</th>
            <th>Score</th>
            <th>Occurrences</th>
        </tr>
        <tr>
            <td>embargo</td>
            <td>0.7105</td>
            <td>1</td>
            <td>embargo</td>
            <td>0.8740</td>
            <td>1</td>
        </tr>
        <tr>
            <td>estoppel</td>
            <td>0.7021</td>
            <td>1</td>
            <td>estoppel</td>
            <td>0.8688</td>
            <td>1</td>
        </tr>
        <tr>
            <td>boycott</td>
            <td>0.6608</td>
            <td>1</td>
            <td>boycott</td>
            <td>0.8348</td>
            <td>1</td>
        </tr>
        <tr>
            <td>interdiction</td>
            <td>0.6523</td>
            <td>1</td>
            <td>interdiction</td>
            <td>0.8293</td>
            <td>1</td>
        </tr>
        <tr>
            <td>taboo</td>
            <td>0.6287</td>
            <td>1</td>
            <td>taboo</td>
            <td>0.7957</td>
            <td>1</td>
        </tr>
        <tr>
            <td>countenance</td>
            <td>0.6153</td>
            <td>1</td>
            <td>countenance</td>
            <td>0.7884</td>
            <td>1</td>
        </tr>
        <tr>
            <td>injunction</td>
            <td>0.5889</td>
            <td>1</td>
            <td>proscription</td>
            <td>0.7777</td>
            <td>1</td>
        </tr>
        <tr>
            <td>proscription</td>
            <td>0.5875</td>
            <td>1</td>
            <td>authority</td>
            <td>0.7736</td>
            <td>1</td>
        </tr>
        <tr>
            <td>punition</td>
            <td>0.5458</td>
            <td>2</td>
            <td>punition</td>
            <td>0.7174</td>
            <td>2</td>
        </tr>
        <tr>
            <td>authority</td>
            <td>0.5444</td>
            <td>1</td>
            <td>injunction</td>
            <td>0.6887</td>
            <td>1</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>ban</td>
            <td>0.6302</td>
            <td>1</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>verdict</td>
            <td>0.6016</td>
            <td>2</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>condemn</td>
            <td>0.5701</td>
            <td>1</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>sentence</td>
            <td>0.5591</td>
            <td>2</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>pass sentence</td>
            <td>0.5417</td>
            <td>1</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>conviction</td>
            <td>0.5352</td>
            <td>3</td>
        </tr>
    </tbody>
</table>

<p><strong>Groupe 4</strong></p>
<table>
    <thead>
        <tr>
            <th colspan="3" style="text-align: center;">Méthode 1</th>
            <th colspan="3" style="text-align: center;">Méthode 2</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th>Synonyme</th>
            <th>Score</th>
            <th>Occurrences</th>
            <th>Synonyme</th>
            <th>Score</th>
            <th>Occurrences</th>
        </tr>
        <tr>
            <td>smaragd</td>
            <td>0.7336</td>
            <td>2</td>
            <td>smaragd</td>
            <td>0.8328</td>
            <td>2</td>
        </tr>
        <tr>
            <td>minionette</td>
            <td>0.7200</td>
            <td>2</td>
            <td>minionette</td>
            <td>0.7985</td>
            <td>2</td>
        </tr>
        <tr>
            <td>chromatic</td>
            <td>0.6947</td>
            <td>2</td>
            <td>azure</td>
            <td>0.7662</td>
            <td>1</td>
        </tr>
        <tr>
            <td>azure</td>
            <td>0.6637</td>
            <td>1</td>
            <td>agate</td>
            <td>0.7341</td>
            <td>3</td>
        </tr>
        <tr>
            <td>ruddy</td>
            <td>0.6277</td>
            <td>1</td>
            <td>chromatic</td>
            <td>0.7321</td>
            <td>2</td>
        </tr>
        <tr>
            <td>agate</td>
            <td>0.6240</td>
            <td>3</td>
            <td>ruddy</td>
            <td>0.7072</td>
            <td>1</td>
        </tr>
        <tr>
            <td>crimson</td>
            <td>0.6023</td>
            <td>1</td>
            <td>crimson</td>
            <td>0.6362</td>
            <td>1</td>
        </tr>
        <tr>
            <td>carmine</td>
            <td>0.5153</td>
            <td>1</td>
            <td>rubi</td>
            <td>0.6085</td>
            <td>2</td>
        </tr>
        <tr>
            <td>rubi</td>
            <td>0.5029</td>
            <td>2</td>
            <td>carmine</td>
            <td>0.5928</td>
            <td>1</td>
        </tr>
    </tbody>
</table>

<p>On voit rapidement que la méthode 2 a tendance à attribuer des scores plus élevés aux synonymes, ce qui n'est pas grave: on peut simplement augmenter le seuil minimal requis pour qu'un synonyme soit retenu (lors des tests, tous les synonymes avec un score supérieur à 0.5 étaient retenus). On remarque aussi que les scores fournis par la méthode 2 sont globalement meilleurs. Nous avons donc choisi d'utiliser cette méthode.</p>
<h2 id="problemes">Problèmes</h2>
<p>Malheureusement, après avoir fait plus de tests, la qualité des synonymes laissait à désirer, principalement parce que les API ne renvoyaient pas des synonymes de qualité en premier lieu, problème que le filtrage ne suffisait pas à résoudre. La dépendance à des API est aussi problématique car elle nécessite une connexion internet et suppose que les API soient fonctionnelles. Nous avons donc décidé de changer de méthode, comme présenté dans la partie suivante.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../premieres_experiences/" class="btn btn-neutral float-left" title="Premières expériences"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../llm/" class="btn btn-neutral float-right" title="LLM">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../premieres_experiences/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../llm/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
